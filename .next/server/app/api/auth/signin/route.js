"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/signin/route";
exports.ids = ["app/api/auth/signin/route"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_dan0002g_Documents_poc_konduktv7_src_app_api_auth_signin_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/signin/route.ts */ \"(rsc)/./src/app/api/auth/signin/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/signin/route\",\n        pathname: \"/api/auth/signin\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/signin/route\"\n    },\n    resolvedPagePath: \"/Users/dan0002g/Documents/poc/konduktv7/src/app/api/auth/signin/route.ts\",\n    nextConfigOutput,\n    userland: _Users_dan0002g_Documents_poc_konduktv7_src_app_api_auth_signin_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/signin/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGc2lnbmluJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoJTJGc2lnbmluJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXV0aCUyRnNpZ25pbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmRhbjAwMDJnJTJGRG9jdW1lbnRzJTJGcG9jJTJGa29uZHVrdHY3JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmRhbjAwMDJnJTJGRG9jdW1lbnRzJTJGcG9jJTJGa29uZHVrdHY3JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va29uZHVrdHY3Lz9mZWYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9kYW4wMDAyZy9Eb2N1bWVudHMvcG9jL2tvbmR1a3R2Ny9zcmMvYXBwL2FwaS9hdXRoL3NpZ25pbi9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9zaWduaW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3NpZ25pblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9zaWduaW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZGFuMDAwMmcvRG9jdW1lbnRzL3BvYy9rb25kdWt0djcvc3JjL2FwcC9hcGkvYXV0aC9zaWduaW4vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9zaWduaW4vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/signin/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/auth/signin/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n\n\n\nasync function POST(request) {\n    try {\n        const { email, password } = await request.json();\n        if (!email || !password) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Email and password are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate email format\n        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n        if (!emailRegex.test(email)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Invalid email format\",\n                details: \"Email must be a valid email address with a proper domain\"\n            }, {\n                status: 400\n            });\n        }\n        // Create Supabase client with service role for admin operations\n        const supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__.createClient)(\"https://yvnfriccxjepxynxiljr.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY, {\n            auth: {\n                autoRefreshToken: false,\n                persistSession: false,\n                detectSessionInUrl: false\n            }\n        });\n        // Sign in user\n        const { data: authData, error: authError } = await supabaseAdmin.auth.signInWithPassword({\n            email,\n            password\n        });\n        if (authError) {\n            console.error(\"Sign in error:\", authError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Authentication failed\",\n                details: authError.message,\n                code: authError.status\n            }, {\n                status: 401\n            });\n        }\n        if (!authData.user) {\n            console.error(\"No user data returned from sign in\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Authentication failed - no user data returned\"\n            }, {\n                status: 401\n            });\n        }\n        // Get user profile\n        let { data: profileData, error: profileError } = await supabaseAdmin.from(\"users\").select(\"*\").eq(\"id\", authData.user.id).single();\n        if (profileError) {\n            console.error(\"Profile fetch error:\", profileError);\n            // If profile doesn't exist, create it\n            if (profileError.code === \"PGRST116\") {\n                const { data: newProfile, error: createError } = await supabaseAdmin.from(\"users\").insert([\n                    {\n                        id: authData.user.id,\n                        email: authData.user.email,\n                        role: \"team_member\",\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    }\n                ]).select().single();\n                if (createError) {\n                    console.error(\"Profile creation error:\", createError);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                        error: \"Failed to create user profile\",\n                        details: createError.message,\n                        code: createError.code\n                    }, {\n                        status: 500\n                    });\n                }\n                profileData = newProfile;\n            } else {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                    error: \"Failed to fetch user profile\",\n                    details: profileError.message,\n                    code: profileError.code\n                }, {\n                    status: 500\n                });\n            }\n        }\n        // Get user's domains - first get domains where user is manager\n        const { data: managerDomains, error: managerError } = await supabaseAdmin.from(\"domains\").select(\"*\").eq(\"manager_id\", authData.user.id);\n        if (managerError) {\n            console.error(\"Manager domains fetch error:\", managerError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Failed to fetch manager domains\",\n                details: managerError.message,\n                code: managerError.code\n            }, {\n                status: 500\n            });\n        }\n        // Then get domains where user is team member\n        const { data: teamDomains, error: teamError } = await supabaseAdmin.from(\"teams\").select(\"domain:domains(*)\").eq(\"user_id\", authData.user.id);\n        if (teamError) {\n            console.error(\"Team domains fetch error:\", teamError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Failed to fetch team domains\",\n                details: teamError.message,\n                code: teamError.code\n            }, {\n                status: 500\n            });\n        }\n        // Combine the results, removing duplicates\n        const domainsData = [\n            ...managerDomains || [],\n            ...teamDomains?.map((t)=>t.domain) || []\n        ].filter((domain, index, self)=>index === self.findIndex((d)=>d.id === domain.id));\n        // Create a session for the user\n        const { data: sessionData, error: sessionError } = await supabaseAdmin.auth.getSession();\n        if (sessionError) {\n            console.error(\"Session creation error:\", sessionError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Failed to create session\",\n                details: sessionError.message,\n                code: sessionError.status\n            }, {\n                status: 500\n            });\n        }\n        // Create response with session cookie\n        const response = next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            message: \"Sign in successful\",\n            user: profileData,\n            domains: domainsData,\n            session: sessionData.session\n        }, {\n            status: 200\n        });\n        // Set the session cookie\n        const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n        const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__.createRouteHandlerClient)({\n            cookies: ()=>cookieStore\n        });\n        await supabase.auth.setSession({\n            access_token: sessionData.session?.access_token || \"\",\n            refresh_token: sessionData.session?.refresh_token || \"\"\n        });\n        return response;\n    } catch (error) {\n        console.error(\"Sign in error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Internal server error\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZQSxDQUFDSyxJQUFJLENBQ3RCO1lBQ0VDLE9BQU87WUFDUEksU0FBU0osaUJBQWlCNkQsUUFBUTdELE1BQU1tQixPQUFPLEdBQUc7UUFDcEQsR0FDQTtZQUFFbEIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rb25kdWt0djcvLi9zcmMvYXBwL2FwaS9hdXRoL3NpZ25pbi9yb3V0ZS50cz83YmExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9hdXRoLWhlbHBlcnMtbmV4dGpzJ1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG5cbiAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW2EtekEtWjAtOS5fJSstXStAW2EtekEtWjAtOS4tXStcXC5bYS16QS1aXXsyLH0kL1xuICAgIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQnLFxuICAgICAgICAgIGRldGFpbHM6ICdFbWFpbCBtdXN0IGJlIGEgdmFsaWQgZW1haWwgYWRkcmVzcyB3aXRoIGEgcHJvcGVyIGRvbWFpbidcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIFN1cGFiYXNlIGNsaWVudCB3aXRoIHNlcnZpY2Ugcm9sZSBmb3IgYWRtaW4gb3BlcmF0aW9uc1xuICAgIGNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgICAgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSEsXG4gICAgICB7XG4gICAgICAgIGF1dGg6IHtcbiAgICAgICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsXG4gICAgICAgICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuXG4gICAgLy8gU2lnbiBpbiB1c2VyXG4gICAgY29uc3QgeyBkYXRhOiBhdXRoRGF0YSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgIH0pXG5cbiAgICBpZiAoYXV0aEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTaWduIGluIGVycm9yOicsIGF1dGhFcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgZGV0YWlsczogYXV0aEVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgY29kZTogYXV0aEVycm9yLnN0YXR1c1xuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIWF1dGhEYXRhLnVzZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHVzZXIgZGF0YSByZXR1cm5lZCBmcm9tIHNpZ24gaW4nKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQXV0aGVudGljYXRpb24gZmFpbGVkIC0gbm8gdXNlciBkYXRhIHJldHVybmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBHZXQgdXNlciBwcm9maWxlXG4gICAgbGV0IHsgZGF0YTogcHJvZmlsZURhdGEsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBhdXRoRGF0YS51c2VyLmlkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9maWxlIGZldGNoIGVycm9yOicsIHByb2ZpbGVFcnJvcilcbiAgICAgIFxuICAgICAgLy8gSWYgcHJvZmlsZSBkb2Vzbid0IGV4aXN0LCBjcmVhdGUgaXRcbiAgICAgIGlmIChwcm9maWxlRXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2Jykge1xuICAgICAgICBjb25zdCB7IGRhdGE6IG5ld1Byb2ZpbGUsIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgICAgLmluc2VydChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBhdXRoRGF0YS51c2VyLmlkLFxuICAgICAgICAgICAgICBlbWFpbDogYXV0aERhdGEudXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgcm9sZTogJ3RlYW1fbWVtYmVyJywgLy8gRGVmYXVsdCByb2xlXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdKVxuICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgIGlmIChjcmVhdGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2ZpbGUgY3JlYXRpb24gZXJyb3I6JywgY3JlYXRlRXJyb3IpXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHVzZXIgcHJvZmlsZScsXG4gICAgICAgICAgICAgIGRldGFpbHM6IGNyZWF0ZUVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIGNvZGU6IGNyZWF0ZUVycm9yLmNvZGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBwcm9maWxlRGF0YSA9IG5ld1Byb2ZpbGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdXNlciBwcm9maWxlJyxcbiAgICAgICAgICAgIGRldGFpbHM6IHByb2ZpbGVFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgY29kZTogcHJvZmlsZUVycm9yLmNvZGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHVzZXIncyBkb21haW5zIC0gZmlyc3QgZ2V0IGRvbWFpbnMgd2hlcmUgdXNlciBpcyBtYW5hZ2VyXG4gICAgY29uc3QgeyBkYXRhOiBtYW5hZ2VyRG9tYWlucywgZXJyb3I6IG1hbmFnZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2RvbWFpbnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ21hbmFnZXJfaWQnLCBhdXRoRGF0YS51c2VyLmlkKVxuXG4gICAgaWYgKG1hbmFnZXJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTWFuYWdlciBkb21haW5zIGZldGNoIGVycm9yOicsIG1hbmFnZXJFcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBtYW5hZ2VyIGRvbWFpbnMnLFxuICAgICAgICAgIGRldGFpbHM6IG1hbmFnZXJFcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGNvZGU6IG1hbmFnZXJFcnJvci5jb2RlXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIFRoZW4gZ2V0IGRvbWFpbnMgd2hlcmUgdXNlciBpcyB0ZWFtIG1lbWJlclxuICAgIGNvbnN0IHsgZGF0YTogdGVhbURvbWFpbnMsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd0ZWFtcycpXG4gICAgICAuc2VsZWN0KCdkb21haW46ZG9tYWlucygqKScpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCBhdXRoRGF0YS51c2VyLmlkKVxuXG4gICAgaWYgKHRlYW1FcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVGVhbSBkb21haW5zIGZldGNoIGVycm9yOicsIHRlYW1FcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCB0ZWFtIGRvbWFpbnMnLFxuICAgICAgICAgIGRldGFpbHM6IHRlYW1FcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGNvZGU6IHRlYW1FcnJvci5jb2RlXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIENvbWJpbmUgdGhlIHJlc3VsdHMsIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAgICBjb25zdCBkb21haW5zRGF0YSA9IFtcbiAgICAgIC4uLihtYW5hZ2VyRG9tYWlucyB8fCBbXSksXG4gICAgICAuLi4odGVhbURvbWFpbnM/Lm1hcCh0ID0+IHQuZG9tYWluKSB8fCBbXSlcbiAgICBdLmZpbHRlcigoZG9tYWluLCBpbmRleCwgc2VsZikgPT4gXG4gICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBkb21haW4uaWQpXG4gICAgKVxuXG4gICAgLy8gQ3JlYXRlIGEgc2Vzc2lvbiBmb3IgdGhlIHVzZXJcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhLCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluLmF1dGguZ2V0U2Vzc2lvbigpXG5cbiAgICBpZiAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGNyZWF0aW9uIGVycm9yOicsIHNlc3Npb25FcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbicsXG4gICAgICAgICAgZGV0YWlsczogc2Vzc2lvbkVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgY29kZTogc2Vzc2lvbkVycm9yLnN0YXR1c1xuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcmVzcG9uc2Ugd2l0aCBzZXNzaW9uIGNvb2tpZVxuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBtZXNzYWdlOiAnU2lnbiBpbiBzdWNjZXNzZnVsJyxcbiAgICAgICAgdXNlcjogcHJvZmlsZURhdGEsXG4gICAgICAgIGRvbWFpbnM6IGRvbWFpbnNEYXRhLFxuICAgICAgICBzZXNzaW9uOiBzZXNzaW9uRGF0YS5zZXNzaW9uXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMCB9XG4gICAgKVxuXG4gICAgLy8gU2V0IHRoZSBzZXNzaW9uIGNvb2tpZVxuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQoeyBjb29raWVzOiAoKSA9PiBjb29raWVTdG9yZSB9KVxuICAgIGF3YWl0IHN1cGFiYXNlLmF1dGguc2V0U2Vzc2lvbih7XG4gICAgICBhY2Nlc3NfdG9rZW46IHNlc3Npb25EYXRhLnNlc3Npb24/LmFjY2Vzc190b2tlbiB8fCAnJyxcbiAgICAgIHJlZnJlc2hfdG9rZW46IHNlc3Npb25EYXRhLnNlc3Npb24/LnJlZnJlc2hfdG9rZW4gfHwgJycsXG4gICAgfSlcblxuICAgIHJldHVybiByZXNwb25zZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gaW4gZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufSAiXSwibmFtZXMiOlsiY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiY29va2llcyIsIk5leHRSZXNwb25zZSIsIlBPU1QiLCJyZXF1ZXN0IiwiZW1haWwiLCJwYXNzd29yZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwiZGV0YWlscyIsInN1cGFiYXNlQWRtaW4iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJkYXRhIiwiYXV0aERhdGEiLCJhdXRoRXJyb3IiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJjb25zb2xlIiwibWVzc2FnZSIsImNvZGUiLCJ1c2VyIiwicHJvZmlsZURhdGEiLCJwcm9maWxlRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsInNpbmdsZSIsIm5ld1Byb2ZpbGUiLCJjcmVhdGVFcnJvciIsImluc2VydCIsInJvbGUiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsIm1hbmFnZXJEb21haW5zIiwibWFuYWdlckVycm9yIiwidGVhbURvbWFpbnMiLCJ0ZWFtRXJyb3IiLCJkb21haW5zRGF0YSIsIm1hcCIsInQiLCJkb21haW4iLCJmaWx0ZXIiLCJpbmRleCIsInNlbGYiLCJmaW5kSW5kZXgiLCJkIiwic2Vzc2lvbkRhdGEiLCJzZXNzaW9uRXJyb3IiLCJnZXRTZXNzaW9uIiwicmVzcG9uc2UiLCJkb21haW5zIiwic2Vzc2lvbiIsImNvb2tpZVN0b3JlIiwic3VwYWJhc2UiLCJzZXRTZXNzaW9uIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaF90b2tlbiIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/signin/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/next","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/set-cookie-parser","vendor-chunks/jose"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdan0002g%2FDocuments%2Fpoc%2Fkonduktv7&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();